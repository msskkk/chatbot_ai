<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚ãªãŸã‚’å‹•ç‰©ã«ä¾‹ãˆã‚‹ã¨è¨ºæ–­</title>
<meta name="description" content="æ€§æ ¼ã‚„è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰ã€ã‚ãªãŸã«ãƒ”ãƒƒã‚¿ãƒªã®å‹•ç‰©ã‚’è¨ºæ–­ï¼">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--orange:#FF7043;--orange-light:#FFCCBC;--pink:#EC407A;--purple:#7E57C2;--dark:#2D2D2D;--radius:18px}
body{font-family:'Zen Maru Gothic',sans-serif;min-height:100vh;background:linear-gradient(160deg,#fff8f0 0%,#fce4ec 50%,#ede7f6 100%);display:flex;justify-content:center;align-items:flex-start;padding:20px}
.container{max-width:520px;width:100%;margin:0 auto}

/* ===== HERO CARD ===== */
.hero-card{background:#fff;border-radius:28px;padding:36px 28px 28px;box-shadow:0 8px 40px rgba(255,112,67,.18);margin-bottom:16px;position:relative;overflow:hidden}
.hero-card::before{content:'';position:absolute;top:-60px;right:-60px;width:180px;height:180px;background:radial-gradient(circle,#ffe0b2 0%,transparent 70%);border-radius:50%}
.hero-card::after{content:'';position:absolute;bottom:-40px;left:-40px;width:120px;height:120px;background:radial-gradient(circle,#f8bbd0 0%,transparent 70%);border-radius:50%}

.char-img{display:block;width:200px;height:140px;object-fit:contain;margin:0 auto 16px;position:relative;z-index:1;animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

.badge{display:inline-block;background:linear-gradient(135deg,#FF7043,#EC407A);color:#fff;font-size:.7em;font-weight:700;padding:4px 14px;border-radius:20px;letter-spacing:.05em;margin-bottom:12px}
h1{font-size:1.55em;font-weight:900;color:var(--dark);line-height:1.4;margin-bottom:8px;position:relative;z-index:1}
.subtitle{color:#888;font-size:.88em;line-height:1.6;margin-bottom:24px}
.start-btn{display:block;width:100%;padding:18px;border:none;border-radius:var(--radius);background:linear-gradient(135deg,#FF7043 0%,#EC407A 100%);color:#fff;font-family:inherit;font-size:1.1em;font-weight:700;cursor:pointer;transition:all .25s;box-shadow:0 6px 24px rgba(255,112,67,.4);letter-spacing:.05em}
.start-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(255,112,67,.5)}
.start-btn:active{transform:translateY(0)}

.hint{text-align:center;font-size:.78em;color:#bbb;margin-top:12px}

/* ===== QUIZ CARD ===== */
.quiz-card{background:#fff;border-radius:28px;padding:28px 24px;box-shadow:0 8px 40px rgba(0,0,0,.1);display:none;animation:slideUp .35s ease}
@keyframes slideUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.quiz-card.active{display:block}

.progress-wrap{display:flex;align-items:center;gap:10px;margin-bottom:24px}
.progress-track{flex:1;height:8px;background:#f0f0f0;border-radius:4px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,#FF7043,#EC407A);border-radius:4px;transition:width .4s cubic-bezier(.4,0,.2,1)}
.q-count{font-size:.8em;color:#aaa;white-space:nowrap;font-weight:700}

.q-label{display:inline-block;background:#fff8f0;color:#FF7043;font-size:.75em;font-weight:700;padding:3px 10px;border-radius:10px;margin-bottom:10px;border:1.5px solid #FFCCBC}
.question{font-size:1.18em;font-weight:700;color:var(--dark);line-height:1.65;margin-bottom:22px}

.opt-btn{display:flex;align-items:center;width:100%;padding:14px 18px;border:2px solid #f0f0f0;border-radius:14px;background:#fafafa;color:#333;font-family:inherit;font-size:.95em;font-weight:600;cursor:pointer;transition:all .2s;margin-bottom:10px;text-align:left;gap:10px}
.opt-btn::before{content:'';display:block;width:22px;height:22px;min-width:22px;border:2.5px solid #ddd;border-radius:50%;transition:all .2s}
.opt-btn:hover{border-color:#FF7043;background:#fff8f0;color:#FF7043}
.opt-btn:hover::before{border-color:#FF7043;background:#FF7043}

/* ===== RESULT CARD ===== */
.result-card{background:#fff;border-radius:28px;padding:0 0 28px;box-shadow:0 8px 40px rgba(0,0,0,.12);display:none;animation:slideUp .35s ease;overflow:hidden}
.result-card.active{display:block}

.result-hero{padding:32px 24px 24px;text-align:center;position:relative}
.result-char{width:140px;height:140px;object-fit:contain;margin:0 auto 12px;display:block;animation:popIn .5s cubic-bezier(.34,1.56,.64,1)}
@keyframes popIn{from{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}
.result-emoji{font-size:4.5em;line-height:1;margin-bottom:8px;display:block;animation:popIn .5s cubic-bezier(.34,1.56,.64,1)}
.result-label{font-size:.8em;font-weight:700;color:#999;letter-spacing:.1em;margin-bottom:6px}
.result-name{font-size:1.9em;font-weight:900;margin-bottom:12px}
.result-tags{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin-bottom:0}
.tag{padding:5px 14px;border-radius:20px;font-size:.78em;font-weight:700;background:#f5f5f5;color:#555}

.result-body{padding:0 24px}
.desc-box{background:#fafafa;border-radius:16px;padding:18px;margin:16px 0;font-size:.92em;line-height:1.85;color:#444}

.compat-row{display:flex;gap:10px;margin:0 0 12px}
.compat-chip{flex:1;background:linear-gradient(135deg,#fff8f0,#fce4ec);border-radius:14px;padding:14px;text-align:center;border:1.5px solid #FFCCBC}
.compat-chip .c-icon{font-size:1.8em;display:block;margin-bottom:4px}
.compat-chip .c-name{font-size:.8em;font-weight:700;color:#FF7043}
.compat-chip .c-note{font-size:.72em;color:#999;margin-top:3px;line-height:1.4}

.section-head{font-size:.82em;font-weight:700;color:#bbb;letter-spacing:.1em;margin:20px 0 10px;text-transform:uppercase}

.all-types-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:16px}
.type-chip{background:#f8f8f8;border-radius:14px;padding:12px;display:flex;align-items:center;gap:10px;border:2px solid transparent;transition:all .2s}
.type-chip.me{border-color:#FF7043;background:#fff8f0}
.type-chip .tc-icon{font-size:1.6em}
.type-chip .tc-name{font-size:.8em;font-weight:700;color:#333}
.type-chip .tc-me{font-size:.7em;color:#FF7043;font-weight:700}

.share-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:20px}
.share-btn{padding:14px;border:none;border-radius:14px;font-family:inherit;font-size:.9em;font-weight:700;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:6px}
.share-btn:hover{transform:translateY(-2px)}
.btn-x{background:#000;color:#fff}
.btn-line{background:#06C755;color:#fff}
.retry-btn{display:block;width:100%;padding:14px;border:2px solid #eee;border-radius:14px;background:#fff;font-family:inherit;font-size:.9em;font-weight:700;color:#999;cursor:pointer;margin-top:10px;transition:all .2s}
.retry-btn:hover{border-color:#FF7043;color:#FF7043}
</style>
</head>
<body>
<div class="container">

<!-- START -->
<div class="hero-card" id="start">
  <div style="text-align:center">
    <span class="badge">ğŸ¾ æ€§æ ¼è¨ºæ–­</span>
  </div>
  <img class="char-img" src="../assets/img/animal-type.png" alt="å‹•ç‰©ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼" onerror="this.style.fontSize='4em';this.outerHTML='<div style=\'font-size:4em;text-align:center;margin-bottom:16px\'>ğŸ¾ğŸ•ğŸ±ğŸ°ğŸ¦‰</div>'">
  <h1>ã‚ãªãŸã‚’å‹•ç‰©ã«<br>ä¾‹ãˆã‚‹ã¨è¨ºæ–­</h1>
  <p class="subtitle">7ã¤ã®è³ªå•ã§ã€ã‚ãªãŸã®ã‚­ãƒ£ãƒ©ã‚’å‹•ç‰©ã‚¿ã‚¤ãƒ—ã§è¨ºæ–­ï¼<br>çŠ¬ãƒ»çŒ«ãƒ»ã†ã•ããƒ»ãƒ•ã‚¯ãƒ­ã‚¦ã€ã©ã‚Œã‹ãªï¼Ÿ</p>
  <button class="start-btn" onclick="startQuiz()">ğŸ”® è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
  <p class="hint">å…¨7å•ãƒ»ç´„1åˆ†ã§å®Œäº†</p>
</div>

<!-- QUIZ -->
<div class="quiz-card" id="quiz">
  <div class="progress-wrap">
    <div class="progress-track"><div class="progress-fill" id="progress"></div></div>
    <span class="q-count" id="qCount">1/7</span>
  </div>
  <span class="q-label" id="qLabel">Q1</span>
  <p class="question" id="qText"></p>
  <div id="options"></div>
</div>

<!-- RESULT -->
<div class="result-card" id="result">
  <div class="result-hero" id="resultHero">
    <div class="result-emoji" id="resultEmoji"></div>
    <p class="result-label">ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—ã¯</p>
    <div class="result-name" id="resultName"></div>
    <div class="result-tags" id="resultTags"></div>
  </div>
  <div class="result-body">
    <div class="desc-box" id="resultDesc"></div>
    <p class="section-head">ğŸ’• ç›¸æ€§ã®ã„ã„ã‚¿ã‚¤ãƒ—</p>
    <div class="compat-row" id="compatRow"></div>
    <p class="section-head">ğŸ—º å…¨ã‚¿ã‚¤ãƒ—ä¸€è¦§</p>
    <div class="all-types-grid" id="allTypesGrid"></div>
    <div class="share-row">
      <button class="share-btn btn-x" onclick="shareX()">ğ• ã‚·ã‚§ã‚¢</button>
      <button class="share-btn btn-line" onclick="shareLine()">LINE ã‚·ã‚§ã‚¢</button>
    </div>
    <button class="retry-btn" onclick="location.reload()">ğŸ”„ ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
  </div>
</div>

</div>
<script>
const questions=[
{q:"ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã«å‚åŠ ã—ãŸã¨ãã®ã‚ãªãŸã¯ï¼Ÿ",opts:[
{t:"æ°—ã¥ã„ãŸã‚‰ä¸­å¿ƒã«ã„ã¦ç››ã‚Šä¸Šã’ã¦ã‚‹ğŸ‰",s:{D:3}},
{t:"æ°—ã®åˆã†äººã‚’è¦‹ã¤ã‘ã¦ãšã£ã¨è©±ã—ã¦ã‚‹ğŸ’¬",s:{C:3}},
{t:"éš…ã£ã“ã§è¦³å¯Ÿã—ãªãŒã‚‰æ¥½ã—ã‚“ã§ã‚‹ğŸ‘€",s:{O:3}},
{t:"æ°—åˆ†æ¬¡ç¬¬ã€‚ãƒãƒªãƒãƒªã®æ™‚ã‚‚ã‚ã‚Œã°å¸°ã‚‹æ™‚ã‚‚ğŸŒ™",s:{N:3}}
]},
{q:"ä¼‘æ—¥ã®æœã€ç›®è¦šã‚ãŸã‚‰æœ€åˆã«ã™ã‚‹ã“ã¨ã¯ï¼Ÿ",opts:[
{t:"ã™ãèµ·ãã¦æ•£æ­©ã‚„ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã¸ğŸƒ",s:{D:3}},
{t:"SNSã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦å‹é”ã®å‹•å‘ã‚’ç¢ºèªğŸ“±",s:{C:3}},
{t:"äºŒåº¦å¯ã—ã¦æ˜¼ã¾ã§å¯ã‚‹ğŸ˜´",s:{O:3}},
{t:"æ°—ã¾ãã‚Œã€‚ãã®æ—¥ã®æ°—åˆ†ã§æ±ºã‚ã‚‹ğŸŒ¸",s:{N:3}}
]},
{q:"å‹é”ã¨ã®ç´„æŸã®æ™‚é–“ã€ã‚ãªãŸã¯ï¼Ÿ",opts:[
{t:"å°‘ã—æ—©ã‚ã«ç€ãã€‚å¾…ã¡æ™‚é–“ã‚‚æ¥½ã—ã„â°",s:{D:3}},
{t:"ã´ã£ãŸã‚Šã«ç€ãã€‚æ™‚é–“é€šã‚ŠãŒå¤§äº‹ï¼âœ…",s:{C:2,O:1}},
{t:"ã¡ã‚‡ã£ã¨é…ã‚ŒãŒã¡ã€‚ã”ã‚ã‚“â€¦ğŸ™",s:{N:3}},
{t:"å ´æ‰€ã‚’é–“é•ãˆãŸã‚Šãƒ‰ã‚¿ãƒã‚¿ã™ã‚‹ğŸ’¦",s:{O:2,N:1}}
]},
{q:"ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ãŸã¨ãã€ã©ã†ã‚„ã£ã¦è§£æ¶ˆã™ã‚‹ï¼Ÿ",opts:[
{t:"ä½“ã‚’å‹•ã‹ã—ã¦ç™ºæ•£ï¼é‹å‹•æœ€é«˜ï¼ğŸ’ª",s:{D:3}},
{t:"èª°ã‹ã¨è©±ã—ã¦ã‚¹ãƒƒã‚­ãƒªã™ã‚‹ğŸ—£",s:{C:3}},
{t:"ä¸€äººã®æ™‚é–“ã‚’ç¢ºä¿ã—ã¦ã®ã‚“ã³ã‚ŠğŸ›‹",s:{O:3}},
{t:"å¥½ããªã“ã¨ã«æ²¡é ­ã—ã¦å¿˜ã‚Œã‚‹ğŸ®",s:{N:3}}
]},
{q:"ã‚°ãƒ«ãƒ¼ãƒ—ã§ä½•ã‹ã‚’æ±ºã‚ã‚‹ã¨ãã€ã‚ãªãŸã®å½¹å‰²ã¯ï¼Ÿ",opts:[
{t:"ã€Œã“ã†ã—ã‚ˆã†ï¼ã€ã¨ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’å–ã‚‹ğŸ™‹",s:{D:3}},
{t:"ã¿ã‚“ãªã®æ„è¦‹ã‚’èã„ã¦ã¾ã¨ã‚ã‚‹èª¿æ•´å½¹ğŸ¤",s:{C:3}},
{t:"ã€Œã©ã£ã¡ã§ã‚‚ã„ã„ã‚ˆã€ã¨å‘¨ã‚Šã«åˆã‚ã›ã‚‹ğŸ˜Š",s:{O:3}},
{t:"çªç„¶ã„ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å‡ºã—ã¦é©šã‹ã›ã‚‹ğŸ’¡",s:{N:3}}
]},
{q:"ã‚ãªãŸã®é£Ÿäº‹ã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ",opts:[
{t:"ã„ã£ã±ã„é£Ÿã¹ã‚‹ï¼é£Ÿäº‹ã¯ã‚¨ãƒãƒ«ã‚®ãƒ¼è£œçµ¦ğŸ–",s:{D:3}},
{t:"ã¿ã‚“ãªã§ã‚·ã‚§ã‚¢ã—ã¦é£Ÿã¹ã‚‹ã®ãŒå¥½ãğŸ½",s:{C:3}},
{t:"å°‘é£Ÿã€‚å¥½ããªã‚‚ã®ã‚’ã¡ã‚‡ã“ã£ã¨ğŸ¡",s:{N:3}},
{t:"æ°—ã«å…¥ã£ãŸã‚‚ã®ã‚’ãšã£ã¨é£Ÿã¹ç¶šã‘ã‚‹ğŸ£",s:{O:3}}
]},
{q:"è‡ªåˆ†ã‚’ä¸€è¨€ã§è¡¨ã™ãªã‚‰ï¼Ÿ",opts:[
{t:"æ˜ã‚‹ãã¦ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥â˜€ï¸",s:{D:3}},
{t:"å„ªã—ãã¦å”èª¿æ€§ãŒã‚ã‚‹ğŸŒ¼",s:{C:3}},
{t:"ãƒã‚¤ãƒšãƒ¼ã‚¹ã§ç©ã‚„ã‹ğŸŒ¿",s:{O:3}},
{t:"ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ã§è‡ªç”±ğŸŒ™",s:{N:3}}
]}
];

const results={
D:{name:"çŠ¬ã‚¿ã‚¤ãƒ—",emoji:"ğŸ•",color:"#FF7043",bg:"linear-gradient(135deg,#FF7043,#EC407A)",bgLight:"#fff3e5",
  desc:"ã‚ãªãŸã¯çŠ¬ã®ã‚ˆã†ã«æ˜ã‚‹ãã€å¿ å®Ÿã§ã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªã‚¿ã‚¤ãƒ—ï¼äººã¨ã„ã‚‹ã®ãŒå¤§å¥½ãã§ã€ä¿¡é ¼ã—ãŸäººã«ã¯ã¨ã“ã¨ã‚“å°½ãã—ã¾ã™ã€‚è¡Œå‹•åŠ›ãŒã‚ã‚Šã€ãƒãƒ¼ãƒ ã®ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‚ç´ ç›´ã§è£è¡¨ãŒãªã„ã¨ã“ã‚ã‚‚é­…åŠ›ã§ã€å‘¨ã‚Šã‹ã‚‰æ„›ã•ã‚Œã‚‹å­˜åœ¨ã§ã™ã€‚",
  traits:["å¿ å®ŸğŸ¶","ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥âš¡","ç´ ç›´âœ¨","ç¤¾äº¤çš„ğŸ‰","è¡Œå‹•åŠ›æŠœç¾¤ğŸƒ"],
  compat:[{icon:"ğŸ±",name:"çŒ«ã‚¿ã‚¤ãƒ—",note:"ãŠäº’ã„ã®é•ã„ãŒå¿ƒåœ°ã‚ˆã„ãƒãƒ©ãƒ³ã‚¹ã«"},{icon:"ğŸ°",name:"ã†ã•ãã‚¿ã‚¤ãƒ—",note:"ç™’ã‚„ã—Ã—å…ƒæ°—ã§æœ€å¼·ã‚³ãƒ³ãƒ“ï¼"}]},
C:{name:"ã†ã•ãã‚¿ã‚¤ãƒ—",emoji:"ğŸ°",color:"#E91E63",bg:"linear-gradient(135deg,#E91E63,#F06292)",bgLight:"#fff0f5",
  desc:"ã‚ãªãŸã¯ã†ã•ãã®ã‚ˆã†ã«å„ªã—ãã€å…±æ„ŸåŠ›ãŒé«˜ãã€äººé–“é–¢ä¿‚ã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚¿ã‚¤ãƒ—ï¼å ´ã®ç©ºæ°—ã‚’èª­ã‚€åŠ›ã«å„ªã‚Œã€å‘¨ã‚Šã®äººã‚’å®‰å¿ƒã•ã›ã‚‹ã‚ªãƒ¼ãƒ©ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã‚„ã‚„ç¹Šç´°ãªé¢ã‚‚ã‚ã‚Šã¾ã™ãŒã€ãã‚ŒãŒã‚ãªãŸã®é­…åŠ›ã€‚å¤§åˆ‡ãªäººã‚’å¹¸ã›ã«ã§ãã‚‹åŠ›ã®æŒã¡ä¸»ã§ã™ã€‚",
  traits:["å„ªã—ã„ğŸŒ¸","å…±æ„ŸåŠ›ğŸ’•","ç©ºæ°—ã‚’èª­ã‚€ğŸ‘‚","ç¹Šç´°ğŸŒ·","ç™’ã‚„ã—ç³»ğŸ’†"],
  compat:[{icon:"ğŸ•",name:"çŠ¬ã‚¿ã‚¤ãƒ—",note:"å…ƒæ°—ã‚’ã‚‚ã‚‰ãˆã‚‹å®‰å¿ƒæ„Ÿã®ã‚ã‚‹çµ„ã¿åˆã‚ã›"},{icon:"ğŸ¦‰",name:"ãƒ•ã‚¯ãƒ­ã‚¦ã‚¿ã‚¤ãƒ—",note:"çŸ¥çš„ãªä¼šè©±ã§æ·±ã„é–¢ä¿‚ã«"}]},
O:{name:"çŒ«ã‚¿ã‚¤ãƒ—",emoji:"ğŸ±",color:"#7E57C2",bg:"linear-gradient(135deg,#7E57C2,#AB47BC)",bgLight:"#f8f0ff",
  desc:"ã‚ãªãŸã¯çŒ«ã®ã‚ˆã†ã«ãƒã‚¤ãƒšãƒ¼ã‚¹ã§ã€è‡ªåˆ†ã®ä¸–ç•Œã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚¿ã‚¤ãƒ—ï¼ä¸€äººã®æ™‚é–“ã‚’æ¥½ã—ã‚ã‚‹è‡ªç«‹å¿ƒã¨ã€æ°—ã¾ãã‚Œã ã‘ã©æ·±ã„æ„›æƒ…ã‚’æŒã¡åˆã‚ã›ã¦ã„ã¾ã™ã€‚ç„¡ç†ã«ç¾¤ã‚Œãªã„ã‹ã‚‰ã“ãã€ä¸€ç·’ã«ã„ã‚‹æ™‚é–“ã®ä¾¡å€¤ãŒé«˜ã„ãƒ„ãƒ³ãƒ‡ãƒ¬ãªé­…åŠ›ã®æŒã¡ä¸»ã§ã™ã€‚",
  traits:["ãƒã‚¤ãƒšãƒ¼ã‚¹ğŸŒ™","è‡ªç«‹å¿ƒğŸ’œ","ãƒ„ãƒ³ãƒ‡ãƒ¬ğŸ˜¼","æ°—ã¾ãã‚ŒğŸ²","ç‹¬è‡ªã®ä¸–ç•Œè¦³ğŸ”®"],
  compat:[{icon:"ğŸ•",name:"çŠ¬ã‚¿ã‚¤ãƒ—",note:"ãŠäº’ã„ã®é•ã„ãŒå¿ƒåœ°ã‚ˆã„ãƒãƒ©ãƒ³ã‚¹ã«"},{icon:"ğŸ¦‰",name:"ãƒ•ã‚¯ãƒ­ã‚¦ã‚¿ã‚¤ãƒ—",note:"è‡ªç”±ã‚’å°Šé‡ã—åˆãˆã‚‹å¤§äººã®é–¢ä¿‚"}]},
N:{name:"ãƒ•ã‚¯ãƒ­ã‚¦ã‚¿ã‚¤ãƒ—",emoji:"ğŸ¦‰",color:"#37474F",bg:"linear-gradient(135deg,#37474F,#546E7A)",bgLight:"#f0f4f8",
  desc:"ã‚ãªãŸã¯ãƒ•ã‚¯ãƒ­ã‚¦ã®ã‚ˆã†ã«ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ã§ã€çŸ¥çš„ãªé­…åŠ›ã«æº¢ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ï¼æ·±ã„æ´å¯ŸåŠ›ã¨ç‹¬è‡ªã®è¦–ç‚¹ã§ç‰©äº‹ã‚’æ‰ãˆã€å‘¨ã‚Šã¨ã¯ä¸€å‘³é•ã†å­˜åœ¨æ„Ÿã‚’æ”¾ã£ã¦ã„ã¾ã™ã€‚å¤œå‹ã§ã€é™ã‹ãªæ™‚é–“ã«æœ€ã‚‚åŠ›ã‚’ç™ºæ®ã™ã‚‹ã‚¿ã‚¤ãƒ—ã‹ã‚‚ã€‚è‡ªç”±ã‚’æ„›ã™ã‚‹å­¤é«˜ã®å­˜åœ¨ã§ã™ã€‚",
  traits:["çŸ¥çš„ğŸ§ ","ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ğŸŒ‘","å¤œå‹ğŸ¦‰","æ´å¯ŸåŠ›ğŸ”","è‡ªç”±äººğŸ•Š"],
  compat:[{icon:"ğŸ°",name:"ã†ã•ãã‚¿ã‚¤ãƒ—",note:"ç¹Šç´°ã•ã‚’ç†è§£ã—åˆãˆã‚‹æ·±ã„é–¢ä¿‚"},{icon:"ğŸ±",name:"çŒ«ã‚¿ã‚¤ãƒ—",note:"è‡ªç”±ã‚’å°Šé‡ã—åˆãˆã‚‹å¤§äººã®é–¢ä¿‚"}]}
};

const allTypes=[
{key:'D',emoji:'ğŸ•',name:'çŠ¬ã‚¿ã‚¤ãƒ—'},{key:'C',emoji:'ğŸ°',name:'ã†ã•ãã‚¿ã‚¤ãƒ—'},
{key:'O',emoji:'ğŸ±',name:'çŒ«ã‚¿ã‚¤ãƒ—'},{key:'N',emoji:'ğŸ¦‰',name:'ãƒ•ã‚¯ãƒ­ã‚¦ã‚¿ã‚¤ãƒ—'}
];

let current=0,scores={D:0,C:0,O:0,N:0};

function startQuiz(){
  document.getElementById('start').style.display='none';
  document.getElementById('quiz').classList.add('active');
  render();
}
function render(){
  const q=questions[current];
  const pct=(current/questions.length*100);
  document.getElementById('progress').style.width=pct+'%';
  document.getElementById('qCount').textContent=(current+1)+'/'+questions.length;
  document.getElementById('qLabel').textContent='Q'+(current+1);
  document.getElementById('qText').textContent=q.q;
  const o=document.getElementById('options');o.innerHTML='';
  q.opts.forEach(opt=>{
    const b=document.createElement('button');b.className='opt-btn';b.textContent=opt.t;
    b.onclick=()=>answer(opt.s);o.appendChild(b);
  });
}
function answer(s){
  for(let k in s)scores[k]+=s[k];
  current++;
  if(current<questions.length)render();else showResult();
}
function showResult(){
  let max='D',maxVal=0;
  for(let k in scores)if(scores[k]>maxVal){maxVal=scores[k];max=k;}
  const r=results[max];
  document.getElementById('quiz').classList.remove('active');
  const hero=document.getElementById('resultHero');
  hero.style.background=r.bg;
  document.getElementById('resultEmoji').textContent=r.emoji;
  const rn=document.getElementById('resultName');
  rn.textContent=r.name;rn.style.color='#fff';
  document.getElementById('result').querySelector('.result-label').style.color='rgba(255,255,255,.8)';
  const tags=document.getElementById('resultTags');tags.innerHTML='';
  r.traits.forEach(t=>{const s=document.createElement('span');s.className='tag';s.style.background='rgba(255,255,255,.25)';s.style.color='#fff';s.textContent=t;tags.appendChild(s);});
  document.getElementById('resultDesc').textContent=r.desc;
  const cr=document.getElementById('compatRow');cr.innerHTML='';
  r.compat.forEach(c=>{cr.innerHTML+=`<div class="compat-chip"><span class="c-icon">${c.icon}</span><div class="c-name">${c.name}</div><div class="c-note">${c.note}</div></div>`;});
  const ag=document.getElementById('allTypesGrid');ag.innerHTML='';
  allTypes.forEach(t=>{ag.innerHTML+=`<div class="type-chip${t.key===max?' me':''}"><span class="tc-icon">${t.emoji}</span><div><div class="tc-name">${t.name}</div>${t.key===max?'<div class="tc-me">â† ã‚ãªãŸï¼</div>':''}</div></div>`;});
  document.getElementById('result').classList.add('active');
}
function shareX(){const n=document.getElementById('resultName').textContent;window.open(`https://x.com/intent/tweet?text=${encodeURIComponent('ç§ã®å‹•ç‰©ã‚¿ã‚¤ãƒ—ã¯ã€Œ'+n+'ã€ã§ã—ãŸï¼ğŸ¾\nã‚ãªãŸã‚‚è¨ºæ–­ã—ã¦ã¿ã¦ğŸ‘‡\n'+location.href)}`,'_blank')}
function shareLine(){window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(location.href)}`,'_blank')}
</script>
</body>
</html>
